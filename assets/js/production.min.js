function runNetworkAnim(){function a(){currentGlobalID===f&&(h.clearRect(0,0,g.width,g.height),c(),e(),requestAnimationFrame(a))}function b(a,b,c,e){this.x=a||Math.random()*g.width,this.y=b||Math.random()*g.height,this.vel={x:c||2*Math.random()-1,y:e||2*Math.random()-1},this.update=function(a){(this.x>a.width+50||this.x<-50)&&(this.vel.x=-this.vel.x),(this.y>a.height+50||this.y<-50)&&(this.vel.y=-this.vel.y),this.x+=this.vel.x,this.y+=this.vel.y},this.draw=function(a,b){a.beginPath();var c=d(this);c>150?(a.fillStyle=j,a.globalAlpha=.2):(a.fillStyle=i,a.globalAlpha=1-c/240),a.arc(.5+this.x|0,.5+this.y|0,3,0,k,!1),a.fill()}}function c(){for(var a=Date.now()-n,b=0;16.6667*b<a;b++)for(var c=0;c<l.length;c++)l[c].update(g);n=Date.now()}function d(a){return Math.hypot(a.x-o,a.y-p)}function e(){for(var a=0;a<l.length;a++){var b=l[a];h.beginPath();for(var c=l.length-1;c>a;c+=-1){var e=l[c],f=Math.hypot(b.x-e.x,b.y-e.y);if(f<100){var i=d(e);i>150?(h.strokeStyle=j,h.globalAlpha=.2):h.globalAlpha=0,h.moveTo(.5+b.x|0,.5+b.y|0),h.lineTo(.5+e.x|0,.5+e.y|0)}}h.stroke(),b.draw(h,g)}}var f=++currentGlobalID,g=document.querySelector("#network");if(null!==g&&(g.width=g.clientWidth,g.height=g.clientHeight),null!==g&&g.width>800){g.style.opacity="0.4";var h=g.getContext("2d"),i="#fff",j="#fff",k=2*Math.PI;times=[];for(var l=[],m=0;m<g.width*g.height/6400;m++)l.push(new b(Math.random()*g.width,Math.random()*g.height));var n=Date.now(),o=-1e9,p=-1e9;document.addEventListener("mousemove",function(a){o=a.clientX,p=a.clientY}),a()}}Math.hypot=Math.hypot||function(){for(var a=0,b=arguments.length,c=0;c<b;c++){if(arguments[c]===1/0||arguments[c]===-(1/0))return 1/0;a+=arguments[c]*arguments[c]}return Math.sqrt(a)},setTimeout(function(){runNetworkAnim()},0);var resizeTimeout;window.onresize=function(){clearTimeout(resizeTimeout),resizeTimeout=setTimeout(runNetworkAnim,0)};var currentGlobalID=-1;
